{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst react_1 = require(\"react\");\n\nfunction useDropdownMenu(itemCount) {\n  const [isOpen, setIsOpen] = react_1.useState(false);\n  const currentFocusIndex = react_1.useRef(null);\n  const firstRun = react_1.useRef(true);\n  const clickedOpen = react_1.useRef(false);\n  const buttonRef = react_1.useRef(null);\n  const itemRefs = react_1.useMemo(() => Array.from({\n    length: itemCount\n  }, () => react_1.createRef()), [itemCount]);\n\n  const isKeyboardEvent = e => e.key !== undefined;\n\n  const moveFocus = itemIndex => {\n    var _a;\n\n    currentFocusIndex.current = itemIndex;\n    (_a = itemRefs[itemIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n  };\n\n  react_1.useEffect(() => {\n    if (firstRun.current) {\n      firstRun.current = false;\n      return;\n    }\n\n    if (isOpen && !clickedOpen.current) {\n      moveFocus(0);\n    } else if (!isOpen) {\n      clickedOpen.current = false;\n    }\n  }, [isOpen]);\n  react_1.useEffect(() => {\n    if (!isOpen) {\n      return;\n    }\n\n    const handleEveryClick = event => {\n      setTimeout(() => {\n        if (!(event.target instanceof Element)) {\n          return;\n        }\n\n        if (event.target.closest('[role=\"menu\"]') instanceof Element) {\n          return;\n        }\n\n        setIsOpen(false);\n      }, 10);\n    };\n\n    setTimeout(() => {\n      document.addEventListener('click', handleEveryClick);\n    }, 1);\n    return () => document.removeEventListener('click', handleEveryClick);\n  }, [isOpen]);\n  react_1.useEffect(() => {\n    const disableArrowScroll = event => {\n      if (isOpen && (event.key === 'ArrowDown' || event.key === 'ArrowUp')) {\n        event.preventDefault();\n      }\n    };\n\n    document.addEventListener('keydown', disableArrowScroll);\n    return () => document.removeEventListener('keydown', disableArrowScroll);\n  }, [isOpen]);\n\n  const buttonListener = e => {\n    if (isKeyboardEvent(e)) {\n      const {\n        key\n      } = e;\n\n      if (!['Enter', ' ', 'Tab', 'ArrowDown'].includes(key)) {\n        return;\n      }\n\n      if ((key === 'Tab' || key === 'ArrowDown') && clickedOpen.current && isOpen) {\n        e.preventDefault();\n        moveFocus(0);\n      } else if (key !== 'Tab') {\n        e.preventDefault();\n        setIsOpen(true);\n      }\n    } else {\n      clickedOpen.current = !isOpen;\n      setIsOpen(!isOpen);\n    }\n  };\n\n  const itemListener = e => {\n    var _a;\n\n    const {\n      key\n    } = e;\n\n    if (['Tab', 'Shift', 'Enter', 'Escape', 'ArrowUp', 'ArrowDown', ' '].includes(key)) {\n      let newFocusIndex = currentFocusIndex.current;\n\n      if (key === 'Escape') {\n        setIsOpen(false);\n        (_a = buttonRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n        return;\n      } else if (key === 'Tab') {\n        setIsOpen(false);\n        return;\n      } else if (key === 'Enter' || key === ' ') {\n        if (!e.currentTarget.href) {\n          e.currentTarget.click();\n        }\n\n        setIsOpen(false);\n        return;\n      }\n\n      if (newFocusIndex !== null) {\n        if (key === 'ArrowUp') {\n          newFocusIndex -= 1;\n        } else if (key === 'ArrowDown') {\n          newFocusIndex += 1;\n        }\n\n        if (newFocusIndex > itemRefs.length - 1) {\n          newFocusIndex = 0;\n        } else if (newFocusIndex < 0) {\n          newFocusIndex = itemRefs.length - 1;\n        }\n      }\n\n      if (newFocusIndex !== null) {\n        moveFocus(newFocusIndex);\n      }\n\n      return;\n    }\n\n    if (/[a-zA-Z0-9./<>?;:\"'`!@#$%^&*()\\\\[\\]{}_+=|\\\\-~,]/.test(key)) {\n      const index = itemRefs.findIndex(ref => {\n        var _a, _b, _c, _d, _e, _f;\n\n        return ((_b = (_a = ref.current) === null || _a === void 0 ? void 0 : _a.innerText) === null || _b === void 0 ? void 0 : _b.toLowerCase().startsWith(key.toLowerCase())) || ((_d = (_c = ref.current) === null || _c === void 0 ? void 0 : _c.textContent) === null || _d === void 0 ? void 0 : _d.toLowerCase().startsWith(key.toLowerCase())) || ((_f = (_e = ref.current) === null || _e === void 0 ? void 0 : _e.getAttribute('aria-label')) === null || _f === void 0 ? void 0 : _f.toLowerCase().startsWith(key.toLowerCase()));\n      });\n\n      if (index !== -1) {\n        moveFocus(index);\n      }\n    }\n  };\n\n  const buttonProps = {\n    onKeyDown: buttonListener,\n    onClick: buttonListener,\n    tabIndex: 0,\n    ref: buttonRef,\n    role: 'button',\n    'aria-haspopup': true,\n    'aria-expanded': isOpen\n  };\n  const itemProps = Array.from({\n    length: itemCount\n  }, (_ignore, index) => ({\n    onKeyDown: itemListener,\n    tabIndex: -1,\n    role: 'menuitem',\n    ref: itemRefs[index]\n  }));\n  return {\n    buttonProps,\n    itemProps,\n    isOpen,\n    setIsOpen\n  };\n}\n\nexports.default = useDropdownMenu;","map":{"version":3,"sources":["/home/videofc2/oshigoto-site/node_modules/react-accessible-dropdown-menu-hook/dist/use-dropdown-menu.js"],"names":["Object","defineProperty","exports","value","react_1","require","useDropdownMenu","itemCount","isOpen","setIsOpen","useState","currentFocusIndex","useRef","firstRun","clickedOpen","buttonRef","itemRefs","useMemo","Array","from","length","createRef","isKeyboardEvent","e","key","undefined","moveFocus","itemIndex","_a","current","focus","useEffect","handleEveryClick","event","setTimeout","target","Element","closest","document","addEventListener","removeEventListener","disableArrowScroll","preventDefault","buttonListener","includes","itemListener","newFocusIndex","currentTarget","href","click","test","index","findIndex","ref","_b","_c","_d","_e","_f","innerText","toLowerCase","startsWith","textContent","getAttribute","buttonProps","onKeyDown","onClick","tabIndex","role","itemProps","_ignore","default"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nfunction useDropdownMenu(itemCount) {\n    const [isOpen, setIsOpen] = react_1.useState(false);\n    const currentFocusIndex = react_1.useRef(null);\n    const firstRun = react_1.useRef(true);\n    const clickedOpen = react_1.useRef(false);\n    const buttonRef = react_1.useRef(null);\n    const itemRefs = react_1.useMemo(() => Array.from({ length: itemCount }, () => react_1.createRef()), [itemCount]);\n    const isKeyboardEvent = (e) => e.key !== undefined;\n    const moveFocus = (itemIndex) => {\n        var _a;\n        currentFocusIndex.current = itemIndex;\n        (_a = itemRefs[itemIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n    };\n    react_1.useEffect(() => {\n        if (firstRun.current) {\n            firstRun.current = false;\n            return;\n        }\n        if (isOpen && !clickedOpen.current) {\n            moveFocus(0);\n        }\n        else if (!isOpen) {\n            clickedOpen.current = false;\n        }\n    }, [isOpen]);\n    react_1.useEffect(() => {\n        if (!isOpen) {\n            return;\n        }\n        const handleEveryClick = (event) => {\n            setTimeout(() => {\n                if (!(event.target instanceof Element)) {\n                    return;\n                }\n                if (event.target.closest('[role=\"menu\"]') instanceof Element) {\n                    return;\n                }\n                setIsOpen(false);\n            }, 10);\n        };\n        setTimeout(() => {\n            document.addEventListener('click', handleEveryClick);\n        }, 1);\n        return () => document.removeEventListener('click', handleEveryClick);\n    }, [isOpen]);\n    react_1.useEffect(() => {\n        const disableArrowScroll = (event) => {\n            if (isOpen && (event.key === 'ArrowDown' || event.key === 'ArrowUp')) {\n                event.preventDefault();\n            }\n        };\n        document.addEventListener('keydown', disableArrowScroll);\n        return () => document.removeEventListener('keydown', disableArrowScroll);\n    }, [isOpen]);\n    const buttonListener = (e) => {\n        if (isKeyboardEvent(e)) {\n            const { key } = e;\n            if (!['Enter', ' ', 'Tab', 'ArrowDown'].includes(key)) {\n                return;\n            }\n            if ((key === 'Tab' || key === 'ArrowDown') && clickedOpen.current && isOpen) {\n                e.preventDefault();\n                moveFocus(0);\n            }\n            else if (key !== 'Tab') {\n                e.preventDefault();\n                setIsOpen(true);\n            }\n        }\n        else {\n            clickedOpen.current = !isOpen;\n            setIsOpen(!isOpen);\n        }\n    };\n    const itemListener = (e) => {\n        var _a;\n        const { key } = e;\n        if (['Tab', 'Shift', 'Enter', 'Escape', 'ArrowUp', 'ArrowDown', ' '].includes(key)) {\n            let newFocusIndex = currentFocusIndex.current;\n            if (key === 'Escape') {\n                setIsOpen(false);\n                (_a = buttonRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n                return;\n            }\n            else if (key === 'Tab') {\n                setIsOpen(false);\n                return;\n            }\n            else if (key === 'Enter' || key === ' ') {\n                if (!e.currentTarget.href) {\n                    e.currentTarget.click();\n                }\n                setIsOpen(false);\n                return;\n            }\n            if (newFocusIndex !== null) {\n                if (key === 'ArrowUp') {\n                    newFocusIndex -= 1;\n                }\n                else if (key === 'ArrowDown') {\n                    newFocusIndex += 1;\n                }\n                if (newFocusIndex > itemRefs.length - 1) {\n                    newFocusIndex = 0;\n                }\n                else if (newFocusIndex < 0) {\n                    newFocusIndex = itemRefs.length - 1;\n                }\n            }\n            if (newFocusIndex !== null) {\n                moveFocus(newFocusIndex);\n            }\n            return;\n        }\n        if (/[a-zA-Z0-9./<>?;:\"'`!@#$%^&*()\\\\[\\]{}_+=|\\\\-~,]/.test(key)) {\n            const index = itemRefs.findIndex((ref) => {\n                var _a, _b, _c, _d, _e, _f;\n                return ((_b = (_a = ref.current) === null || _a === void 0 ? void 0 : _a.innerText) === null || _b === void 0 ? void 0 : _b.toLowerCase().startsWith(key.toLowerCase())) ||\n                    ((_d = (_c = ref.current) === null || _c === void 0 ? void 0 : _c.textContent) === null || _d === void 0 ? void 0 : _d.toLowerCase().startsWith(key.toLowerCase())) ||\n                    ((_f = (_e = ref.current) === null || _e === void 0 ? void 0 : _e.getAttribute('aria-label')) === null || _f === void 0 ? void 0 : _f.toLowerCase().startsWith(key.toLowerCase()));\n            });\n            if (index !== -1) {\n                moveFocus(index);\n            }\n        }\n    };\n    const buttonProps = {\n        onKeyDown: buttonListener,\n        onClick: buttonListener,\n        tabIndex: 0,\n        ref: buttonRef,\n        role: 'button',\n        'aria-haspopup': true,\n        'aria-expanded': isOpen,\n    };\n    const itemProps = Array.from({ length: itemCount }, (_ignore, index) => ({\n        onKeyDown: itemListener,\n        tabIndex: -1,\n        role: 'menuitem',\n        ref: itemRefs[index],\n    }));\n    return { buttonProps, itemProps, isOpen, setIsOpen };\n}\nexports.default = useDropdownMenu;\n"]},"metadata":{},"sourceType":"script"}